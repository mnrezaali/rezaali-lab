<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Presentation Analyser - Reza Ali's Lab</title>
    <link rel="stylesheet" href="styles.css">
    <script src="https://cdn.tailwindcss.com"></script>
    <script>
        tailwind.config = {
            darkMode: 'class',
            theme: {
                extend: {
                    colors: {
                        'lab-dark': '#0f0f23',
                        'lab-card': '#1a1a2e',
                        'lab-border': '#16213e',
                        'lab-text': '#e2e8f0',
                        'lab-accent': '#6366f1',
                        'lab-amber': '#f59e0b'
                    }
                }
            }
        }
    </script>
</head>
<body class="bg-lab-dark text-lab-text min-h-screen">
    <div class="container mx-auto px-4 py-8 max-w-7xl">
        <!-- Header -->
        <header class="text-center mb-12">
            <h1 class="text-5xl font-bold mb-4">
                <span class="bg-gradient-to-r from-indigo-400 to-cyan-400 bg-clip-text text-transparent">
                    Presentation Analyser
                </span>
            </h1>
            <p class="text-xl text-gray-400 max-w-3xl mx-auto">
                Analyze your presentation delivery with AI-powered vocal, non-verbal, and content analysis
            </p>
            <button onclick="window.location.href='index.html'" class="mt-4 px-4 py-2 bg-lab-border text-lab-text rounded-lg hover:bg-gray-600 transition-colors">
                ‚Üê Back to Lab
            </button>
        </header>

        <!-- Main Content -->
        <div class="grid grid-cols-1 xl:grid-cols-3 gap-8">
            <!-- Left Column: Input Section -->
            <div class="xl:col-span-1 space-y-6">
                <!-- Presentation Context -->
                <div class="bg-lab-card border border-lab-border rounded-xl p-6">
                    <h2 class="text-2xl font-semibold mb-6 text-indigo-400">Presentation Context</h2>
                    <form id="contextForm" class="space-y-4">
                        <div>
                            <label for="presentationTitle" class="block text-sm font-medium mb-2">Presentation Title *</label>
                            <input 
                                type="text" 
                                id="presentationTitle" 
                                name="presentationTitle" 
                                placeholder="e.g., Quarterly Sales Review"
                                class="w-full px-3 py-2 bg-lab-dark border border-lab-border rounded-lg focus:ring-2 focus:ring-indigo-500 focus:border-transparent"
                                required
                            >
                        </div>
                        
                        <div>
                            <label for="audience" class="block text-sm font-medium mb-2">Intended Audience</label>
                            <input 
                                type="text" 
                                id="audience" 
                                name="audience" 
                                placeholder="e.g., Executive team, Colleagues, Students"
                                class="w-full px-3 py-2 bg-lab-dark border border-lab-border rounded-lg focus:ring-2 focus:ring-indigo-500 focus:border-transparent"
                            >
                        </div>
                        
                        <div>
                            <label for="goals" class="block text-sm font-medium mb-2">Personal Goals</label>
                            <textarea 
                                id="goals" 
                                name="goals" 
                                rows="3" 
                                placeholder="What do you want to achieve with this presentation?"
                                class="w-full px-3 py-2 bg-lab-dark border border-lab-border rounded-lg focus:ring-2 focus:ring-indigo-500 focus:border-transparent resize-none"
                            ></textarea>
                        </div>
                    </form>
                </div>

                <!-- Source Input -->
                <div class="bg-lab-card border border-lab-border rounded-xl p-6">
                    <h2 class="text-2xl font-semibold mb-6 text-indigo-400">Source Input</h2>
                    
                    <!-- Input Type Selector -->
                    <div class="mb-6">
                        <div class="flex flex-wrap gap-2">
                            <button id="youtubeBtn" class="input-type-btn active px-4 py-2 rounded-lg border transition-colors">
                                üì∫ YouTube URL
                            </button>
                            <button id="uploadBtn" class="input-type-btn px-4 py-2 rounded-lg border transition-colors">
                                üìÅ File Upload
                            </button>
                            <button id="liveBtn" class="input-type-btn px-4 py-2 rounded-lg border transition-colors">
                                üé• Live Recording
                            </button>
                        </div>
                    </div>

                    <!-- YouTube URL Input -->
                    <div id="youtubeInput" class="input-section">
                        <label for="youtubeUrl" class="block text-sm font-medium mb-2">YouTube URL</label>
                        <input 
                            type="url" 
                            id="youtubeUrl" 
                            name="youtubeUrl" 
                            placeholder="https://www.youtube.com/watch?v=..."
                            class="w-full px-3 py-2 bg-lab-dark border border-lab-border rounded-lg focus:ring-2 focus:ring-indigo-500 focus:border-transparent"
                        >
                        <p class="text-xs text-gray-500 mt-1">Must be a public YouTube video</p>
                    </div>

                    <!-- File Upload Input -->
                    <div id="uploadInput" class="input-section hidden">
                        <label for="fileUpload" class="block text-sm font-medium mb-2">Upload File</label>
                        <div class="border-2 border-dashed border-lab-border rounded-lg p-6 text-center">
                            <input 
                                type="file" 
                                id="fileUpload" 
                                name="fileUpload" 
                                accept="video/*,audio/*"
                                class="hidden"
                            >
                            <div id="uploadArea" class="cursor-pointer">
                                <div class="text-4xl mb-2">üìÅ</div>
                                <p class="text-gray-400">Click to upload or drag & drop</p>
                                <p class="text-xs text-gray-500 mt-1">Video or audio files (MP4, MP3, WAV, etc.)</p>
                            </div>
                            <div id="uploadProgress" class="hidden mt-4">
                                <div class="bg-lab-dark rounded-full h-2">
                                    <div id="progressBar" class="bg-indigo-500 h-2 rounded-full transition-all duration-300" style="width: 0%"></div>
                                </div>
                                <p id="progressText" class="text-sm text-gray-400 mt-2">Uploading...</p>
                            </div>
                        </div>
                    </div>

                    <!-- Live Recording Input -->
                    <div id="liveInput" class="input-section hidden">
                        <div class="space-y-4">
                            <div class="flex items-center space-x-4">
                                <label class="flex items-center space-x-2">
                                    <input type="checkbox" id="enableVideo" class="rounded">
                                    <span class="text-sm">Enable video (for non-verbal analysis)</span>
                                </label>
                            </div>
                            
                            <div id="recordingPreview" class="bg-lab-dark rounded-lg p-4 hidden">
                                <video id="previewVideo" class="w-full rounded-lg" muted></video>
                                <audio id="previewAudio" class="w-full mt-2" muted></audio>
                            </div>
                            
                            <div class="flex space-x-2">
                                <button id="startRecording" class="flex-1 bg-red-600 hover:bg-red-700 text-white py-2 px-4 rounded-lg transition-colors">
                                    üî¥ Start Recording
                                </button>
                                <button id="stopRecording" class="flex-1 bg-gray-600 hover:bg-gray-700 text-white py-2 px-4 rounded-lg transition-colors hidden">
                                    ‚èπÔ∏è Stop Recording
                                </button>
                            </div>
                            
                            <div id="recordingTimer" class="text-center text-lg font-mono hidden">
                                <span id="timerDisplay">00:00</span>
                            </div>
                        </div>
                    </div>

                    <!-- Real-time Coaching Toggle -->
                    <div class="mt-6 p-4 bg-lab-dark rounded-lg">
                        <label class="flex items-center space-x-3">
                            <input type="checkbox" id="enableRealTimeCoaching" class="rounded">
                            <div>
                                <span class="font-medium">Enable Real-time Coaching</span>
                                <p class="text-xs text-gray-500">Live feedback overlay during recording</p>
                            </div>
                        </label>
                    </div>

                    <!-- Analyze Button -->
                    <button id="analyzeBtn" class="w-full mt-6 bg-indigo-600 hover:bg-indigo-700 text-white font-medium py-3 px-4 rounded-lg transition-colors disabled:opacity-50 disabled:cursor-not-allowed">
                        üîç Analyze Presentation
                    </button>
                </div>
            </div>

            <!-- Right Column: Analysis Results -->
            <div class="xl:col-span-2 space-y-6">
                <!-- Analysis Status -->
                <div id="analysisStatus" class="bg-lab-card border border-lab-border rounded-xl p-6 hidden">
                    <div class="flex items-center space-x-3">
                        <div class="animate-spin w-6 h-6 border-2 border-indigo-500 border-t-transparent rounded-full"></div>
                        <div>
                            <h3 class="font-semibold">Analyzing Presentation...</h3>
                            <p id="statusText" class="text-sm text-gray-400">Processing audio and video data</p>
                        </div>
                    </div>
                    <div class="mt-4 bg-lab-dark rounded-full h-2">
                        <div id="analysisProgress" class="bg-indigo-500 h-2 rounded-full transition-all duration-500" style="width: 0%"></div>
                    </div>
                </div>

                <!-- Real-time Coaching Overlay -->
                <div id="realtimeOverlay" class="fixed top-4 right-4 z-50 space-y-2 hidden">
                    <div class="bg-black bg-opacity-80 text-white p-3 rounded-lg">
                        <div class="flex items-center space-x-2 mb-2">
                            <span class="text-sm font-medium">Live Coaching</span>
                            <div id="coachingStatus" class="w-2 h-2 bg-green-500 rounded-full animate-pulse"></div>
                        </div>
                        
                        <!-- Pace Meter -->
                        <div class="mb-2">
                            <div class="flex justify-between text-xs mb-1">
                                <span>Pace</span>
                                <span id="paceValue">Normal</span>
                            </div>
                            <div class="bg-gray-700 rounded-full h-2">
                                <div id="paceMeter" class="bg-green-500 h-2 rounded-full transition-all duration-300" style="width: 50%"></div>
                            </div>
                        </div>
                        
                        <!-- Filler Counter -->
                        <div class="mb-2">
                            <div class="flex justify-between text-xs">
                                <span>Filler Words</span>
                                <span id="fillerCount">0</span>
                            </div>
                        </div>
                        
                        <!-- Eye Contact Indicator -->
                        <div id="eyeContactIndicator" class="hidden">
                            <div class="flex items-center space-x-2 text-xs">
                                <span>Eye Contact</span>
                                <div id="eyeContactLight" class="w-3 h-3 bg-green-500 rounded-full"></div>
                            </div>
                        </div>
                    </div>
                </div>

                <!-- Analysis Results -->
                <div id="analysisResults" class="space-y-6 hidden">
                    <!-- Overall Summary -->
                    <div class="bg-lab-card border border-lab-border rounded-xl p-6">
                        <h2 class="text-2xl font-semibold mb-4 text-indigo-400">Overall Summary</h2>
                        <div id="overallSummary" class="prose prose-invert max-w-none">
                            <!-- Summary content will be populated here -->
                        </div>
                    </div>

                    <!-- Vocal Analysis -->
                    <div class="bg-lab-card border border-lab-border rounded-xl p-6">
                        <h2 class="text-2xl font-semibold mb-4 text-indigo-400">Vocal Analysis</h2>
                        <div class="grid grid-cols-1 md:grid-cols-2 gap-6">
                            <div id="paceAnalysis" class="space-y-2">
                                <h4 class="font-medium">Speaking Pace</h4>
                                <div class="flex items-center space-x-2">
                                    <div class="flex-1 bg-lab-dark rounded-full h-3">
                                        <div id="paceBar" class="bg-indigo-500 h-3 rounded-full"></div>
                                    </div>
                                    <span id="paceScore" class="text-sm font-mono">0 WPM</span>
                                </div>
                                <p id="paceDescription" class="text-sm text-gray-400"></p>
                            </div>
                            
                            <div id="clarityAnalysis" class="space-y-2">
                                <h4 class="font-medium">Clarity Score</h4>
                                <div class="flex items-center space-x-2">
                                    <div class="flex-1 bg-lab-dark rounded-full h-3">
                                        <div id="clarityBar" class="bg-green-500 h-3 rounded-full"></div>
                                    </div>
                                    <span id="clarityScore" class="text-sm font-mono">0%</span>
                                </div>
                                <p id="clarityDescription" class="text-sm text-gray-400"></p>
                            </div>
                        </div>
                        
                        <!-- Filler Words Chart -->
                        <div class="mt-6">
                            <h4 class="font-medium mb-3">Filler Words Detected</h4>
                            <div id="fillerWordsChart" class="bg-lab-dark rounded-lg p-4">
                                <!-- Chart will be populated here -->
                            </div>
                        </div>
                    </div>

                    <!-- Non-Verbal Analysis (Video Only) -->
                    <div id="nonVerbalAnalysis" class="bg-lab-card border border-lab-border rounded-xl p-6 hidden">
                        <h2 class="text-2xl font-semibold mb-4 text-indigo-400">Non-Verbal Analysis</h2>
                        <div class="grid grid-cols-1 md:grid-cols-2 gap-6">
                            <div id="eyeContactAnalysis" class="space-y-2">
                                <h4 class="font-medium">Eye Contact</h4>
                                <div class="flex items-center space-x-2">
                                    <div class="flex-1 bg-lab-dark rounded-full h-3">
                                        <div id="eyeContactBar" class="bg-blue-500 h-3 rounded-full"></div>
                                    </div>
                                    <span id="eyeContactScore" class="text-sm font-mono">0%</span>
                                </div>
                                <p id="eyeContactDescription" class="text-sm text-gray-400"></p>
                            </div>
                            
                            <div id="bodyLanguageAnalysis" class="space-y-2">
                                <h4 class="font-medium">Body Language</h4>
                                <div class="flex items-center space-x-2">
                                    <div class="flex-1 bg-lab-dark rounded-full h-3">
                                        <div id="bodyLanguageBar" class="bg-purple-500 h-3 rounded-full"></div>
                                    </div>
                                    <span id="bodyLanguageScore" class="text-sm font-mono">0%</span>
                                </div>
                                <p id="bodyLanguageDescription" class="text-sm text-gray-400"></p>
                            </div>
                        </div>
                    </div>

                    <!-- Content Analysis -->
                    <div class="bg-lab-card border border-lab-border rounded-xl p-6">
                        <h2 class="text-2xl font-semibold mb-4 text-indigo-400">Content & Structure Analysis</h2>
                        <div class="grid grid-cols-1 md:grid-cols-2 gap-6">
                            <div id="relevanceAnalysis" class="space-y-2">
                                <h4 class="font-medium">Relevance Score</h4>
                                <div class="flex items-center space-x-2">
                                    <div class="flex-1 bg-lab-dark rounded-full h-3">
                                        <div id="relevanceBar" class="bg-yellow-500 h-3 rounded-full"></div>
                                    </div>
                                    <span id="relevanceScore" class="text-sm font-mono">0%</span>
                                </div>
                                <p id="relevanceDescription" class="text-sm text-gray-400"></p>
                            </div>
                            
                            <div id="storytellingAnalysis" class="space-y-2">
                                <h4 class="font-medium">Storytelling Score</h4>
                                <div class="flex items-center space-x-2">
                                    <div class="flex-1 bg-lab-dark rounded-full h-3">
                                        <div id="storytellingBar" class="bg-pink-500 h-3 rounded-full"></div>
                                    </div>
                                    <span id="storytellingScore" class="text-sm font-mono">0%</span>
                                </div>
                                <p id="storytellingDescription" class="text-sm text-gray-400"></p>
                            </div>
                        </div>
                    </div>

                    <!-- Actionable Insights -->
                    <div class="bg-lab-card border border-lab-border rounded-xl p-6">
                        <h2 class="text-2xl font-semibold mb-4 text-indigo-400">Actionable Insights</h2>
                        <div id="actionableInsights" class="space-y-3">
                            <!-- Insights will be populated here -->
                        </div>
                    </div>

                    <!-- Practice Drills -->
                    <div class="bg-lab-card border border-lab-border rounded-xl p-6">
                        <h2 class="text-2xl font-semibold mb-4 text-indigo-400">Personalized Practice Drills</h2>
                        <div id="practiceDrills" class="space-y-4">
                            <!-- Drills will be populated here -->
                        </div>
                    </div>

                    <!-- Export Options -->
                    <div class="bg-lab-card border border-lab-border rounded-xl p-6">
                        <h2 class="text-2xl font-semibold mb-4 text-indigo-400">Export Report</h2>
                        <div class="flex flex-wrap gap-3">
                            <button id="exportPDF" class="px-4 py-2 bg-red-600 hover:bg-red-700 text-white rounded-lg transition-colors">
                                üìÑ Export as PDF
                            </button>
                            <button id="exportJSON" class="px-4 py-2 bg-blue-600 hover:bg-blue-700 text-white rounded-lg transition-colors">
                                üìä Export as JSON
                            </button>
                            <button id="shareReport" class="px-4 py-2 bg-green-600 hover:bg-green-700 text-white rounded-lg transition-colors">
                                üîó Share Report
                            </button>
                        </div>
                    </div>
                </div>

                <!-- Empty State -->
                <div id="emptyState" class="bg-lab-card border border-lab-border rounded-xl p-12 text-center">
                    <div class="text-6xl mb-4">üé§</div>
                    <h3 class="text-xl font-semibold mb-2">Ready to Analyze Your Presentation</h3>
                    <p class="text-gray-400 mb-6">Fill in your presentation context and choose a source to get started</p>
                    <div class="grid grid-cols-1 md:grid-cols-3 gap-4 text-sm">
                        <div class="p-3 bg-lab-dark rounded-lg">
                            <div class="text-2xl mb-2">üó£Ô∏è</div>
                            <div class="font-medium">Vocal Analysis</div>
                            <div class="text-gray-500">Pace, clarity, filler words</div>
                        </div>
                        <div class="p-3 bg-lab-dark rounded-lg">
                            <div class="text-2xl mb-2">üëÅÔ∏è</div>
                            <div class="font-medium">Non-Verbal Analysis</div>
                            <div class="text-gray-500">Eye contact, body language</div>
                        </div>
                        <div class="p-3 bg-lab-dark rounded-lg">
                            <div class="text-2xl mb-2">üìù</div>
                            <div class="font-medium">Content Analysis</div>
                            <div class="text-gray-500">Relevance, storytelling</div>
                        </div>
                    </div>
                </div>
            </div>
        </div>
    </div>

    <script type="module" src="presentation-analyser.js"></script>
</body>
</html>
